"use strict";function e(e){return"string"==typeof e?(l=0===(l=e).indexOf("#")?l.substring(1):l,{r:parseInt(l.substr(0,2),16)||0,g:parseInt(l.substr(2,2),16)||0,b:parseInt(l.substr(4,2),16)||0,a:parseInt(l.substr(6,2),16)||255}):{r:255*e[0],g:255*e[1],b:255*e[2],a:null==e[3]?255:255*e[3]};var l}let l={$:{languageSelect:".language-select"},template:'\n        <ui-prop>\n            <ui-label slot="label" value="language" tooltip="请选择一个多语言的key"></ui-label>\n            <ui-select slot="content" class="language-select"></ui-select>\n        </ui-prop>\n    ',methods:{},async update(e){let l=await Editor.Message.request("language","getLangConfigData"),t="",a=e.value;for(let e of Object.keys(l))t+=`<option value="${e}">${e}</option>`;this.$.languageSelect.innerHTML=t,this.$.languageSelect.value=a.localizeKey.value,this.dump=e},ready(){const l=function(e,l,t,a,o){Editor.Message.send("scene","set-property",{uuid:e.uuid.value,path:`__comps__.${l}.${t}`,dump:{type:a,value:o}})};this.$.languageSelect.addEventListener("change",(t=>{let a=this.dump,o=a.value.localizeKey.value=t.target.value,s={uuid:a.value.node.value.uuid,path:`${a.path}.localizeKey`,dump:{type:"String",value:o}};Editor.Message.send("scene","set-property",s),async function(t,a){var o,s;let n=await Editor.Message.request("scene","query-node",t.value.node.value.uuid);const u=n.__comps__;let i=u.findIndex((e=>"cc.Label"==e.type));if(-1==i)return;let r=u[i],c=(await Editor.Message.request("language","getLangConfigData"))[a];if(null!=c){if(r.value.string.value=a,l(n,i,"string","String",c.value),l(n,i,"lineHeight","Number",0),c.style.fontSize&&l(n,i,"fontSize","Number",c.style.fontSize),l(n,i,"isBold","Boolean",null!==(o=c.style.bold)&&void 0!==o&&o),l(n,i,"isItalic","Boolean",null!==(s=c.style.italic)&&void 0!==s&&s),c.style.color){let t=e(c.style.color);c.style.alpha&&(t.a=255*c.style.alpha),l(n,i,"color","cc.Color",t)}else c.style.alpha&&l(n,i,"color","cc.Color",{r:255,g:255,b:255,a:255*c.style.alpha});c.style.stroke>0?(l(n,i,"enableOutline","Boolean",!0),l(n,i,"outlineWidth","Number",c.style.stroke),c.style.strokeColor&&l(n,i,"outlineColor","cc.Color",e(c.style.strokeColor))):l(n,i,"enableOutline","Boolean",!1),c.style.enableShadow?(l(n,i,"enableShadow","Boolean",!0),c.style.shadowColor&&l(n,i,"shadowColor","cc.Color",e(c.style.shadowColor))):l(n,i,"enableShadow","Boolean",!1)}}(a,t.target.value)}))}};module.exports=Editor.Panel.define(l);